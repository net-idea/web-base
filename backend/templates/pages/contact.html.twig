{# NetIdea WebBase Bundle - Contact Page (White Label)
   Override in your project: templates/pages/kontakt.html.twig
#}
{% extends '@NetIdeaWebBase/base.html.twig' %}

{% block masthead %}
  <header class="masthead bg-primary text-white text-center py-5">
    <div class="container">
      <h1 class="display-4">{{ pageMeta.title|default('Contact Us') }}</h1>
      <p class="lead">{{ pageMeta.description|default('Get in touch with us') }}</p>
    </div>
  </header>
{% endblock %}

{% block content %}
  <div class="row justify-content-center">
    <div class="col-lg-8">
      {# Status alerts handled by JS #}
      <div id="contact-success" class="alert alert-success mb-3 d-none" role="alert"></div>
      <div id="contact-error" class="alert alert-danger mb-3 d-none" role="alert"></div>

      {{ form_start(form, { action: path('web_base_api_contact'), attr: { class: 'vstack gap-3', novalidate: 'novalidate' } }) }}

      <div class="mb-3">
        {{ form_label(form.name) }}
        {{ form_widget(form.name, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.name) }}
      </div>

      <div class="mb-3">
        {{ form_label(form.email) }}
        {{ form_widget(form.email, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.email) }}
      </div>

      <div class="mb-3">
        {{ form_label(form.phone) }}
        {{ form_widget(form.phone, { attr: { class: 'form-control' } }) }}
        {{ form_errors(form.phone) }}
      </div>

      <div class="mb-3">
        {{ form_label(form.message) }}
        {{ form_widget(form.message, { attr: { class: 'form-control', rows: 5 } }) }}
        {{ form_errors(form.message) }}
      </div>

      {# Honeypots (visually hidden) #}
      <div class="visually-hidden" aria-hidden="true">
        {{ form_row(form.website) }}
        {{ form_row(form.emailrep) }}
      </div>

      <div class="mb-3 form-check">
        {{ form_widget(form.consent, { attr: { class: 'form-check-input' } }) }}
        {{ form_label(form.consent, null, { label_attr: { class: 'form-check-label' } }) }}
        {{ form_errors(form.consent) }}
      </div>

      <div class="d-flex gap-2">
        <button type="submit" class="btn btn-primary">Send Message</button>
      </div>

      {{ form_rest(form) }}
      {{ form_end(form) }}

      {# Privacy Notice #}
      <div class="card mt-4">
        <div class="card-body">
          <h5 class="card-title">
            <i class="fas fa-info-circle me-2"></i>Privacy
          </h5>
          <p class="card-text small">
            Your data will be used exclusively to process your request and will be deleted afterwards.
            For more information, please see our
            <a href="{{ path('web_base_page', { slug: 'datenschutz' }) }}">Privacy Policy</a>.
          </p>
        </div>
      </div>
    </div>
  </div>
{% endblock %}
